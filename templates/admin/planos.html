{% extends "admin/base_admin.html" %}
{% block content %}
<div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 mb-8">
    <h4 class="font-bold mb-4 text-slate-700">Novo Plano (Clube ReVolt)</h4>
    <form action="{{ url_for('admin.list_plans') }}" method="POST" class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
        <div class="md:col-span-1">
            <label class="block text-xs font-medium text-slate-500 mb-1 uppercase">Nome do Plano</label>
            <input type="text" name="name" placeholder="Ex: Essencial" class="w-full p-2 border rounded-lg" required>
        </div>
        <div>
            <label class="block text-xs font-medium text-slate-500 mb-1 uppercase">Mensalidade (R$)</label>
            <input type="number" step="0.01" name="price" placeholder="29.90" class="w-full p-2 border rounded-lg" required>
        </div>
        <div class="md:col-span-1">
            <label class="block text-xs font-medium text-slate-500 mb-1 uppercase">Benefícios (Separar por ;)</label>
            <input type="text" name="benefits" placeholder="Socorro 24h;Troca Grátis" class="w-full p-2 border rounded-lg" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white p-2 rounded-lg font-bold hover:bg-blue-700 transition">
            Criar Plano
        </button>
    </form>
</div>

<div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
    <table class="w-full text-left">
        <thead class="bg-slate-50 text-slate-500 text-xs uppercase">
            <tr>
                <th class="p-4">Plano</th>
                <th class="p-4">Preço</th>
                <th class="p-4">Benefícios Ativos</th>
                <th class="p-4 text-right">Ações</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-slate-100">
            {% for plan in plans %}
            <tr>
                <td class="p-4 font-bold text-slate-700">{{ plan.name }}</td>
                <td class="p-4">R$ {{ "%.2f"|format(plan.price) }}</td>
                <td class="p-4 text-sm text-slate-500">{{ plan.benefits.replace(';', ' • ') }}</td>
                <td class="p-4 text-right">
                    <a href="{{ url_for('admin.delete_plan', id=plan.id) }}" class="text-red-600 hover:underline" onclick="return confirm('Excluir este plano?')">Remover</a>
                </td>
            </tr>
            {% else %}
            <tr><td colspan="4" class="p-8 text-center text-slate-400">Nenhum plano cadastrado.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}